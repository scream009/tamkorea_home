# Xiaohongshu (XHS) 데이터 추출 진행 보고서
**일자:** 2025-12-26

## 1. 현재 상황 요약 (Executive Summary)
*   **링크 변환:** 20개 테스트 링크 중 **17개**의 Note ID 추출 및 실제 URL 변환에 성공했습니다.
*   **데이터 추출 (좋아요/댓글 등):** 현재 **추출 실패 (Blocked)** 상태입니다.
*   **원인:** Xiaohongshu의 보안 정책이 강화되어, 단순 `web_session` 토큰만으로는 로그인이 풀리고 "Guest 모드"로 전환됩니다. Guest 모드에서는 데이터가 보이지 않습니다.
*   **해결책:** 브라우저의 **모든 쿠키(Full Cookie String)** 를 그대로 복사해서 봇에 주입해야 로그인이 유지됩니다.

---

## 2. 상세 진행 내역

### ✅ 성공한 부분 (Link Resolution)
*   **성과:** `xhslink.com` 단축 URL을 `xiaohongshu.com/discovery/item/...` 원본 주소로 변환 성공.
*   **결과:** 20개 중 17개 링크의 ID를 확보하여 엑셀 파일에 업데이트했습니다. (나머지 3개는 삭제된 게시물 추정)

### ❌ 실패한 부분 (Data Extraction)
다음과 같은 방법들을 시도했으나 모두 차단되었습니다:
1.  **모바일/iPad 모드:** "앱에서 열기" 팝업이 전체 화면을 가려 데이터 접근 불가.
2.  **PC 브라우저:** 검색 결과가 숨겨지거나 상세 페이지 내용이 블러(Blur) 처리됨.
3.  **1차 쿠키 주입:** 제공해주신 `web_session`을 입력했으나, `webId` 등 다른 보안 토큰과 불일치하여 로그인 실패 처리됨.

### 🔍 기술적 분석
XHS 서버는 `web_session` (로그인 키)과 `webId` (브라우저 식별자)가 **동일한 세션**에서 생성된 것인지 검사합니다.
지금처럼 제 스크립트가 만든 `webId`에 고객님의 `web_session`을 얹으면, 이를 "비정상 접근"으로 간주하고 로그인을 해제시킵니다.

---

## 3. 향후 계획 (Next Steps)

1.  **완전한 쿠키 확보 (Action Required)**
    *   요청드린 대로 **모든 쿠키(Full Cookie)** 를 복사해주셔야 합니다.
    *   특히 `webId`, `a1`, `web_session` 이 세 가지가 한 세트여야 합니다.
2.  **세션 검증 (Session Verification)**
    *   전체 쿠키를 적용하여 `verify_custom_cookie.py`가 "Logged In" 상태를 띄우는지 확인합니다.
3.  **데이터 재수집**
    *   로그인이 성공하면 즉시 스크립트를 가동하여 지표(Likes, Saves, Comments)를 수집합니다.

## 4. 결론
링크 변환까지는 기계적으로 가능했으나, 핵심 데이터(반응 지표)를 얻으려면 **"사용자 브라우저 세션의 완벽한 복제"**가 유일한 방법입니다. 쿠키 정보를 주시는 대로 재시도하겠습니다.
